<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr·∫£i Th·∫£m V√†o Ph√≤ng C·ªßa B·∫°n</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/heic2any/dist/heic2any.min.js"></script>
    <link rel="icon" href="https://thamhanlong.com/wp-content/uploads/2023/05/cropped-hanlong-logo-32x32.png">
</head>

<body>
    <!-- N√∫t Back v·ªÅ trang ch·ªß - lu√¥n hi·ªÉn th·ªã -->
    <div class="back-home">
        <a href="https://thamhanlong.com/" class="back-btn">‚Üê V·ªÅ trang ch·ªß</a>
    </div>

    <div class="tv-container">
        <!-- Giao di·ªán Chatbot -->
        <div id="chatbot-container" class="chatbot-container">
            <div class="chatbot-header">
                <div class="chatbot-avatar">
                    <img src="avatar.jpg" alt="Avatar">
                </div>
                <div class="chatbot-info">
                    <h3>Nh√¢n vi√™n t∆∞ v·∫•n</h3>
                    <span class="chatbot-status">ƒêang tr·ª±c tuy·∫øn</span>
                    <div class="chatbot-note">Qu√Ω kh√°ch ƒëang d√πng AiCarpet c·ªßa Th·∫£m H√°n Long, qu√Ω kh√°ch c√≥ 3 l·∫ßn t·ª± thi·∫øt k·∫ø kh√¥ng gian nh√† m√¨nh. Ch√∫c qu√Ω kh√°ch h√†ng ch·ªçn ƒë∆∞·ª£c m·∫´u th·∫£m ∆∞ng √Ω!</div>
                </div>
            </div>

            <div id="chatbot-messages" class="chatbot-messages">
                <!-- Messages s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JavaScript -->
            </div>

            <!-- Step 1: Ch·ªçn lo·∫°i ph√≤ng -->
            <div id="step-room-type" class="step-container" style="display: none;">
                <div class="options-grid" id="options-room-type">
                    <!-- Dynamic Content -->
                </div>
            </div>

            <!-- Step 2: Ch·ªçn phong c√°ch -->
            <div id="step-style" class="step-container" style="display: none;">
                <div class="options-grid" id="options-style">
                    <!-- Dynamic Content -->
                </div>
            </div>



            <!-- Step 4: Danh s√°ch th·∫£m -->
            <div id="step-rugs" class="step-container" style="display: none;">
                <div class="room-choice-buttons">
                    <button id="btn-choose-rug-sample" class="choice-btn">Ch·ªçn th·∫£m c√≥ s·∫µn</button>
                    <button id="btn-upload-rug" class="choice-btn">T·∫£i ·∫£nh th·∫£m l√™n</button>
                </div>

                <div id="rugs-list-container" class="image-scroll-container" style="display: none;">
                    <div id="rugs-list" class="image-scroll-list">
                        <!-- ·∫¢nh th·∫£m s·∫Ω ƒë∆∞·ª£c load b·∫±ng JavaScript -->
                    </div>
                </div>

                <div id="upload-rug-container" class="upload-container" style="display: none;">
                    <div class="upload-zone">
                        <input type="file" id="rug-file-input" accept="image/*" style="display: none;">
                        <label for="rug-file-input" class="upload-label">
                            <span>üì§ T·∫£i ·∫£nh th·∫£m l√™n</span>
                            <small>T·ªëi ƒëa 5 MB ‚Äì JPG/PNG/WEBP/HEIC</small>
                        </label>
                    </div>
                    <div id="rug-preview" class="preview-image" style="display: none;">
                        <img id="preview-rug-img" src="" alt="Preview">
                    </div>
                </div>
            </div>

            <!-- Step 5: Ch·ªçn ·∫£nh ph√≤ng -->
            <div id="step-room" class="step-container" style="display: none;">
                <div class="room-choice-buttons">
                    <button id="btn-choose-room-sample" class="choice-btn">Ch·ªçn ·∫£nh ph√≤ng c√≥ s·∫µn</button>
                    <button id="btn-upload-room" class="choice-btn">T·∫£i ·∫£nh ph√≤ng l√™n</button>
                </div>

                <!-- Danh s√°ch ·∫£nh ph√≤ng m·∫´u -->
                <div id="rooms-list-container" class="image-scroll-container" style="display: none;">
                    <div id="rooms-list" class="image-scroll-list">
                        <!-- ·∫¢nh ph√≤ng s·∫Ω ƒë∆∞·ª£c load b·∫±ng JavaScript -->
                    </div>
                </div>

                <!-- Upload ·∫£nh ph√≤ng -->
                <div id="upload-room-container" class="upload-container" style="display: none;">
                    <div class="upload-zone">
                        <input type="file" id="room-file-input" accept="image/*" style="display: none;">
                        <label for="room-file-input" class="upload-label">
                            <span>üì§ T·∫£i ·∫£nh ph√≤ng l√™n</span>
                            <small>T·ªëi ƒëa 10 MB ‚Äì JPG/PNG/HEIC</small>
                        </label>
                    </div>
                    <div id="room-preview" class="preview-image" style="display: none;">
                        <img id="preview-room-img" src="" alt="Preview">
                    </div>
                </div>
            </div>

            <!-- Step 6: N√∫t t·∫°o ·∫£nh -->
            <div id="step-generate" class="step-container" style="display: none;">
                <button id="btn-generate" class="generate-btn">
                    <span id="btn-text">‚ú® Click ƒë·ªÉ t·∫°o ·∫£nh</span>
                    <span id="btn-spinner" class="spinner" style="display: none;"></span>
                </button>
                <div id="progress-container" class="progress-container" style="display: none;">
                    <div class="progress-bar">
                        <div id="progress-fill" class="progress-fill" style="width: 0%;"></div>
                    </div>
                    <div id="progress-text" class="progress-text">0%</div>
                </div>
            </div>
        </div>

        <!-- K·∫øt qu·∫£ -->
        <div id="result-container" class="result-container" style="display: none;">
            <div class="result-modal">
                <div class="result-header">
                    <h2>K·∫øt qu·∫£</h2>
                    <button id="result-close" class="result-close" aria-label="ƒê√≥ng">&times;</button>
                </div>
                <div class="result-image-box">
                    <img id="result-image" src="" alt="K·∫øt qu·∫£">
                </div>
                <div class="result-actions">
                    <a id="download-btn" class="download-btn" download="tham_result.jpg">üì• T·∫£i ·∫£nh v·ªÅ m√°y</a>
                    <button id="reset-btn" class="reset-btn">üîÑ T·∫°o l·∫°i ·∫£nh kh√°c</button>
                </div>
                <div id="status-message" class="status-message"></div>
            </div>
        </div>
    </div>

    <!-- Popup Rate Limit -->
    <div id="rate-limit-popup" class="popup-overlay" style="display: none;">
        <div class="popup-content">
            <div class="popup-header">
                <h3>‚ö†Ô∏è ƒê√£ ƒë·∫°t gi·ªõi h·∫°n s·ª≠ d·ª•ng</h3>
                <button id="popup-close" class="popup-close">&times;</button>
            </div>
            <div class="popup-body">
                <p id="popup-message">B·∫°n ƒë√£ s·ª≠ d·ª•ng t·ªëi ƒëa 3 l·∫ßn trong h√¥m nay. Vui l√≤ng th·ª≠ l·∫°i ng√†y mai ho·∫∑c li√™n h·ªá t∆∞ v·∫•n.</p>
                <div class="popup-contact">
                    <div class="popup-contact-row">
                        <span class="popup-contact-label">Hotline:</span>
                        <a class="popup-contact-link" href="tel:0965871595">0965871595</a>
                    </div>
                    <div class="popup-contact-row">
                        <span class="popup-contact-label">Zalo OA:</span>
                        <a class="popup-contact-link" href="https://zalo.me/hanlongcarpet" target="_blank" rel="noopener">https://zalo.me/hanlongcarpet</a>
                    </div>
                </div>
            </div>
            <div class="popup-footer">
                <button id="popup-ok" class="popup-btn-ok">ƒê√£ hi·ªÉu</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>
